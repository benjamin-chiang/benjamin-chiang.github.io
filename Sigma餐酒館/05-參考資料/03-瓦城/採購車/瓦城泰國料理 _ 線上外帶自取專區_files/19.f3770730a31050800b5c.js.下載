(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6r+D":function(e,t,n){"use strict";n.r(t);var o=n("zjfJ"),r=n("zygG"),a=n("VtSi"),i=n.n(a),c=n("fGyu"),l=n("KD1n"),s=n("ERkP"),u=n.n(s),f=n("j/s1"),d=n("HDs3"),g=n("zUsE"),m=n("5lzd"),b=n("DXyw"),p=n("9fIP"),h=n("MMYH"),w=n("8K1b"),O=n("K/z8"),v=n("sRHE"),j=n("wHfF"),C=n("RpvO"),k=u.a.createElement,y=Object(C.a)((function(e){var t=e.t,n=e.className,o=e.height,r=e.width,a=e.fill;return k("svg",{className:n,width:r,height:o,viewBox:"0 0 27 20"},k("title",null,t("Hamburger")),k("g",{transform:"translate(-6 -10)",fill:"none",fillRule:"evenodd"},k("rect",{width:39,height:39,rx:5}),k("path",{d:"M31.31 26.667a1.5 1.5 0 1 1 0 3H7.5a1.5 1.5 0 0 1 0-3h23.81zM7.5 13a1.5 1.5 0 1 1 0-3h23.81a1.5 1.5 0 0 1 0 3H7.5zm23.81 5.334a1.5 1.5 0 1 1 0 3H7.5a1.5 1.5 0 0 1 0-3h23.81z",fill:a})))})),z=u.a.createElement;function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=function(e){Object(w.a)(o,e);var t,n=(t=o,function(){var e,n=Object(v.a)(t);if(x()){var o=Object(v.a)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Object(O.a)(this,e)});function o(){return Object(p.a)(this,o),n.apply(this,arguments)}return Object(h.a)(o,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.fill;return z(j.a,{onClick:t},z(y,{fill:n,iconSize:m.s.large}))}}]),o}(u.a.PureComponent);Object(o.a)(I,"defaultProps",{onClick:function(){},fill:m.g.white});var S=I,P=n("yDSX"),D=n("bXiR"),L=n("qcQL"),N=u.a.createElement;function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var H=Object(f.default)(P.a).attrs((function(){return{alignItems:"center"}})).withConfig({componentId:"sc-1vdgbwl-0"})(["position:relative;"]),R=Object(f.keyframes)(["0%{transform:translateY(0);}25%{transform:translateY(-50%);}50%{transform:translateY(0);}75%{transform:translateY(-25%);}100%{transform:translateY(0);}"]),M=Object(f.default)(P.a).attrs((function(){return{justifyContent:"center",alignItems:"center"}})).withConfig({componentId:"sc-1vdgbwl-1"})(["position:absolute;top:-",";left:",";"," min-width:26px;height:26px;border-radius:13px;background-color:",";"],(function(e){return Object(L.i)((Object(L.h)(e.iconSize)-5)/2)}),(function(e){return Object(L.i)(Object(L.h)(e.iconSize)/2)}),(function(e){return e.withAnimation?Object(f.css)(["animation:"," 500ms ease-in-out;"],R):""}),(function(e){return e.background?e.background:m.i.headerBackground})),A=Object(f.default)(D.f).attrs((function(e){return{paddingRight:m.z.extraSmall,paddingLeft:m.z.extraSmall,textAlign:"center",color:e.color?e.color:m.i.headerNav}})).withConfig({componentId:"sc-1vdgbwl-2"})([""]),E=function(e){Object(w.a)(o,e);var t,n=(t=o,function(){var e,n=Object(v.a)(t);if(_()){var o=Object(v.a)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Object(O.a)(this,e)});function o(){return Object(p.a)(this,o),n.apply(this,arguments)}return Object(h.a)(o,[{key:"render",value:function(){var e=this.props,t=e.Icon,n=e.value,o=e.iconSize,r=e.iconFillColor,a=e.badgeBackgroundColor,i=e.badgeTextColor,c=e.withAnimation,l=n>99?"99+":n;return N(H,null,N(t,{iconSize:o,fill:r}),n>0&&N(M,{key:n,withAnimation:c,background:a,iconSize:m.t[o]},N(A,{bold:!0,color:i},l)))}}]),o}(u.a.PureComponent);Object(o.a)(E,"defaultProps",{height:40,width:40,withAnimation:!1});var T=E,U=u.a.createElement,q=Object(C.a)((function(e){var t=e.t,n=e.className,o=e.height,r=e.width,a=e.fill;return U("svg",{className:n,width:r,height:o,viewBox:"0 0 29 36"},U("title",null,t("ShoppingBag")),U("path",{d:"M14.549 1a6.563 6.563 0 0 0-6.557 6.557v.159H3.657a.689.689 0 0 0-.683.62L1 30.61C1 33.06 3.202 35 5.914 35H23.19c2.713 0 4.915-1.94 4.915-4.327L26.124 8.337a.683.683 0 0 0-.683-.621h-4.335v-.159A6.563 6.563 0 0 0 14.549 1zm-5.19 6.557a5.193 5.193 0 0 1 5.19-5.19 5.193 5.193 0 0 1 5.19 5.19v.159H9.36v-.159zm15.454 1.525L26.73 30.7c-.02 1.622-1.601 2.933-3.547 2.933H5.914c-1.946 0-3.527-1.311-3.547-2.933L4.285 9.082h3.707v3.162c0 .38.304.683.683.683a.68.68 0 0 0 .683-.683V9.082H19.74v3.162c0 .38.304.683.684.683a.68.68 0 0 0 .683-.683V9.082h3.707z",fill:a,stroke:a,fillRule:"evenodd"}))})),B=n("hrFp"),F=n("x4Ed"),K=n("tgsl"),Y=n("aOcl"),J=n("7fQW"),Q=n("lhDf"),V=n("0z7v"),X=n("mLU7"),G=n("2/CT"),W=n("z47k"),Z=n("Nyzr"),$=n("TSdQ"),ee=n("NHO1"),te=n("k7CL"),ne=n("UZCL"),oe=n("0lub"),re=n("npzp"),ae=n("5PAV"),ie=n("T54Z"),ce=n("Jf27"),le=n("OMI/"),se=n("QKxr"),ue=n("52r5"),fe=n("f8ne"),de=n("Sqbt"),ge=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},me=u.a.createElement;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(){var e=Object(l.a)(["\n    height: ",";\n  "]);return he=function(){return e},e}var we=Object(f.default)(D.d).withConfig({componentId:"m52z83-0"})(["color:",";margin:0 ",";&:hover{opacity:",";}"],(function(e){return e.color||m.g.white}),m.v[m.w.small],m.q.linkOpacityOnHover),Oe=Object(f.default)(b.b).withConfig({componentId:"m52z83-1"})(["flex-grow:1;flex-shrink:0;"]),ve=Object(f.default)(F.a).withConfig({componentId:"m52z83-2"})(["margin-top:0;margin-bottom:0;height:",";background-color:",";position:sticky;top:0;z-index:2;"," .iPhoneX &{height:calc("," + env(safe-area-inset-top));padding-top:env(safe-area-inset-top);}"],Object(L.i)(m.q.mobileHeight),(function(e){return e.backgroundColor||m.i.brandPrimary}),Object(d.a)("desktop")(he(),Object(L.i)(m.q.desktopHeight)),Object(L.i)(m.q.mobileHeight)),je=Object(f.default)(Y.b).attrs((function(){return{buttonStyle:m.e.solid}})).withConfig({componentId:"m52z83-3"})(["border:none;margin-right:",";margin-left:",";"],m.v[m.w.medium],m.v[m.w.small]),Ce=Object(f.default)(D.d).attrs((function(){return{normalised:!0,marginLeft:m.w.none,bold:!0}})).withConfig({componentId:"m52z83-4"})(["color:inherit;"]),ke=Object(f.default)(B.a).withConfig({componentId:"m52z83-5"})(["position:absolute;top:calc(100% + 5px);width:100%;z-index:100;right:",";"],m.q.dropdownMenuOffset),ye=Object(f.default)(X.a).withConfig({componentId:"m52z83-6"})(["width:240px;"]),ze=Object(f.default)(P.a).attrs((function(){return{role:"button",justifyContent:"center",alignItems:"center"}})).withConfig({componentId:"m52z83-7"})(["height:100%;cursor:pointer;"," padding:0 ",";margin-right:-",";"],(function(e){return e.itemsCount>0?"\n    position: relative;\n    right: ".concat(Object(L.i)(Object(L.h)(m.t[e.iconSize])/2+5),";\n  "):""}),m.y[m.z.small],m.y[m.z.extraSmall]),xe=Object(f.default)(W.a).withConfig({componentId:"m52z83-8"})(["&&{padding-top:",";padding-bottom:",";}position:absolute;z-index:100;width:180px;"],m.y[m.z.small],m.y[m.z.small]),Ie=Object(f.default)(P.a).attrs((function(){return{role:"button",alignItems:"center",marginRight:m.w.small}})).withConfig({componentId:"m52z83-9"})(["cursor:pointer;"]),Se=Object(f.default)(D.d).withConfig({componentId:"m52z83-10"})(["&:hover{color:",";}"],(function(e){return e.theme.buttonColor})),Pe=Object(g.a)()((function(e){var t=e.t,n=e.user,o=e.buttonColor,r=e.buttonTextColor,a=e.initializingOddlePass,l=u.a.useContext(re.b),s=l.logout,f=l.login;return me(P.a,{alignItems:"center"},n.fetched?me(J.a,{renderLabel:function(e){var a=e.toggleDropdown;return me(je,{buttonColor:o,buttonTextColor:r,onClick:a},t("Hi, _name_",{name:n.data.firstName}))},renderDropdown:function(e){var n=e.isDropdownOpening,o=e.closeDropdown;return n&&me(ye,{items:[].concat(Object(c.a)(Object(V.b)(t)),[{id:"logout",name:t("Log out"),href:null}]),onClickItem:function(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("logout"!==t){n.next=4;break}return e.preventDefault(),n.next=4,i.a.awrap(s({onSuccess:o}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}})},DropdownContainer:function(e){return me(ke,e)}}):me(je,{buttonColor:o,buttonTextColor:r,onClick:f,loading:a||!n.fetched&&!["user_not_logged_in","login_credentials_invalid"].includes(n.error)},me(Ce,null,t("Sign In"))))})),De=Object(g.a)()((function(e){var t=e.t,n=e.route,o=e.color,r=e.showStoreInfoLink,a=e.locales;return me(P.a,{alignItems:"center",flexDirection:"row"},me(B.a,null,me(G.a,{href:"/"},me(we,{color:o},t("Menu")))),r&&me(B.a,null,me(G.a,{href:"/stores"},me(we,{color:o},t("Store Information")))),a&&a.length>1&&me(B.a,null,me(J.a,{renderLabel:function(e){var t=e.toggleDropdown;return me(Ie,{onClick:t},me(we,{color:o},Object(ee.b)(n.locale)),me(Z.b,{iconSize:"small",fill:o,direction:Z.a.down}))},renderDropdown:function(e){var t=e.isDropdownOpening,n=e.closeDropdown;return t&&me(xe,null,a.map((function(e){return me(B.a,{margin:m.w.small},me(ae.a,{locale:e,onClick:n},me(Se,null,ee.d[e])))})))}})))})),Le=Object(g.a)()(Object($.b)((function(e){var t=e.t,n=e.route,o=e[te.e.user],a=e[te.e.meta],c=e[te.e.order],l=e[te.e.store],s=e.customisation,f=e.previewMode,d=c.storeOrder.data.orderItems?Object(ne.d)(c.storeOrder.data.orderItems):0,g=s.settings,p=s.id,h=g.showLogo,w=g.logoImage,O=g.homepageUrl,v=g.showStoreName,j=g.storeName,C=g.headerBackgroundColor,k=g.navigationLinkFontColor,y=g.storeNameFontType,z=Object(ce.c)(O),x=j||a.meta.data.menuName||a.meta.data.menu.name,I=l.data.filter((function(e){return e.showAddressOnCart})).length>0,D=a.meta.data,L=D.locales,N=D.oddlePassEnabled,_=D.newOddlePassFlow,H=u.a.useContext(re.b),R=H.fetchUserAction,M=H.signUpAction,A=u.a.useState(!1),E=Object(r.a)(A,2),U=E[0],B=E[1];return u.a.useEffect((function(){if(window.opw&&N&&_){B(!0),window.opw.initializeApp(fe.n,fe.p,n.locale||"en_SG",{menuName:x});var e=window.opw.checkCanUseIframe();B(!1),e||window.opw.addListener((function(e,n){var o;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="signin_success"===r.t0?3:"facebook_signin_success"===r.t0?3:"signup_success"===r.t0?3:"signout_success"===r.t0?7:"verification_success"===r.t0?10:26;break;case 3:return r.next=5,i.a.awrap(R());case 5:return de.a.success(n),r.abrupt("break",27);case 7:return de.a.success(t("Successfully logged out.")),window.location.reload(),r.abrupt("break",27);case 10:return r.next=12,i.a.awrap(R());case 12:if("customer_require_verification"!==r.sent.error){r.next=24;break}if("verification_success"!==(o=ge(window.localStorage.getItem("accessToken"))).state.action){r.next=22;break}return r.next=18,i.a.awrap(M(pe({},o.state.data)));case 18:return r.next=20,i.a.awrap(R());case 20:r.sent.success&&de.a.success(o.state.message);case 22:r.next=25;break;case 24:de.a.success(n);case 25:case 26:return r.abrupt("break",27);case 27:case"end":return r.stop()}}),null,null,null,Promise)}))}}),[R,x,_,N,n.locale,M,t]),me(oe.b.Consumer,null,(function(e){var r=e.getLogoImagePath,a=w||r(),i=Object(Q.b)({url:a,baseW:60}),c=i.src,l=i.srcSet;return me(ve,{backgroundColor:C},me(F.a.Container,{height:"100%"},me(P.a,{height:"100%",alignItems:"center",justifyContent:"space-between"},me(b.a,null,me(S,{fill:k,onClick:function(){return K.a.showModal("MobileSideNavigation",{menuName:x,src:c,srcSet:l,showStoreName:v,showLogo:h,sectionId:p,createUrl:ce.c})}})),me(G.a,{href:z,onClick:function(e){f&&(e.preventDefault(),window.confirm(t("This link cannot be opened in customisation preview. It will be opened in a new window (_target_).\nClick OK to continue",{target:z}))&&window.open(z,"_blank"))}},me(b.b,null,me(P.a,{justifyContent:"center",alignItems:"center"},me(ue.a,{logoImage:w,showLogo:h,showStoreName:v,storeName:x,font:y,textColor:k}))),me(b.a,null,me(ue.a,{logoImage:w,showLogo:h,showStoreName:v,storeName:x,font:y,textColor:k}))),me(Oe,null,me(P.a,{justifyContent:"flex-end"},me(De,{color:k,showStoreInfoLink:I,route:n,locales:L,previewMode:f}),me(Pe,{user:o.user,buttonColor:k,buttonTextColor:C,initializingOddlePass:U}))),me(oe.b.Consumer,null,(function(e){var t=e.formatMoney,n=e.getProductImagePath;return me(ze,{itemsCount:d,iconSize:m.s.large,onClick:function(){return K.a.showModal("CartDrawer",{formatMoney:t,getProductImagePath:n})}},me(T,{Icon:q,withAnimation:!0,badgeBackgroundColor:k,badgeTextColor:C,iconFillColor:k,iconSize:m.s.large,value:d}))})))))}))})));t.default=Object(le.a)(Le,{schema:ie,storeKeysToSubscribe:se.a})}}]);